(window.webpackJsonprecipes=window.webpackJsonprecipes||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=(a(67),a(11)),c=a(12),o=a(14),s=a(13),i=a(3),u=(a(68),a(9)),d=(a(69),a(54)),m=a.n(d),p=a(20),h=a.n(p),E=a(21),f=a.n(E),g=(a(90),a(55)),b=a.n(g),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.onChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};f()({url:"/api/users",method:"POST",data:a}).then((function(){e.props.history.push("/login")})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log("State",this.state),r.a.createElement("div",{className:"signupbox"},r.a.createElement("img",{src:b.a,className:"avatar"}),r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Sign Up With Email "),r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter Email",value:this.state.username,onChange:this.onChange,required:!0}),r.a.createElement("p",null,"Password "),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.onChange,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{className:"submitButton",type:"submit",value:"Submit"}),r.a.createElement("br",null)))}}]),a}(n.Component),O=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.onChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};f()({url:"/api/auth",method:"POST",data:a}).then((function(){e.props.history.push("/About")})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginbox"},r.a.createElement("img",{src:m.a,className:"avatar"}),r.a.createElement("h1",null,"Login Here"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Enter Email"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter Email",value:this.state.username,onChange:this.onChange,required:!0}),r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{className:"submitButton",type:"submit",value:"Submit"}),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/signup"},"Don't have an account?")))}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleChange=function(){n.setState({isChecked:!n.state.isChecked})},n.state={isChecked:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"menu-wrap"},r.a.createElement("input",{type:"checkbox",class:"toggler"}),r.a.createElement("div",{class:"hamburger"},r.a.createElement("div",null)),r.a.createElement("div",{class:"menu"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return e.toggleChange()},to:"/About"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return e.toggleChange()},to:"/recipes"},"Search")),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return e.toggleChange()},to:"/Calender"},"Meal Plan")),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return e.toggleChange()},to:"/"},"Login")),r.a.createElement("li",null,r.a.createElement(i.b,{onClick:function(){return e.toggleChange()},to:"/signup"},"Sign Up")))))))}}]),a}(r.a.Component),S=a(2),C=a(37),j=a.n(C),N=a(39),k=a(57),_=a(26),w=a(10);a(28);var R=function(e){return r.a.createElement("div",{className:"Search"},r.a.createElement("input",{type:"text",placeholder:"Search any recipe",onChange:e.handleSearch,onKeyDown:e.keyDown}),r.a.createElement("div",{className:"checkboxInput"},r.a.createElement("input",{type:"checkbox",onClick:e.handleVeg,checked:e.checkedValue})," Veg"))};var I=function(){var e=Object(w.c)(),t=Object(w.d)((function(e){return e.searched})),a=Object(n.useState)(t),l=Object(_.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(c),u=Object(_.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!0),h=Object(_.a)(p,2),E=h[0],f=h[1],g=Object(n.useState)([]),b=Object(_.a)(g,2),v=b[0],O=b[1],y="https://api.edamam.com/search?q=".concat(d,"&app_id=").concat("abf008f3","&app_key=").concat("0aecda60dcf1b8a39109d3afa689f6ff");Object(n.useEffect)((function(){C()}),[d,E]);var C=function(){var e=Object(k.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),n=!0===E?a.hits.filter((function(e){return-1!==Object(N.a)(e.recipe.healthLabels).findIndex((function(e){return"Vegetarian"===e}))})):a.hits.filter((function(e){return-1===Object(N.a)(e.recipe.healthLabels).findIndex((function(e){return"Vegetarian"===e}))})),O(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Recipes"},r.a.createElement(R,{handleSearch:function(e){return function(e){o(e.target.value)}(e)},handleVeg:function(e){return function(e){f(e.target.checked)}(e)},checkedValue:E,keyDown:function(e){return function(e){32!==e.keyCode&&13!==e.keyCode||m(c)}(e)}}),r.a.createElement("ul",{className:"recipeList"},v.map((function(t){var a=t.recipe;return r.a.createElement("li",{key:a.label,className:"recipeItem"},r.a.createElement("h2",null,a.label),r.a.createElement(i.b,{to:"/ingredients/"+a.label,onClick:function(){return function(t){e({type:"SET_RECIPE",currentRecipe:Object(S.a)({},t),searched:d})}(a)}},r.a.createElement("img",{src:a.image,alt:"..."})),r.a.createElement("p",null,"Calories : ",a.calories.toFixed(2)),r.a.createElement("p",null,"Fat : ",a.totalNutrients.FAT.quantity.toFixed(2),"g "),r.a.createElement("p",null,"Sugars : ",a.totalNutrients.SUGAR.quantity.toFixed(2),"g"),r.a.createElement("p",null,"Protien : ",a.totalNutrients.PROCNT.quantity.toFixed(2),"g"),r.a.createElement("p",null,"Carbs : ",a.totalNutrients.CHOCDF.quantity.toFixed(2),"g"))}))))},L=a(19),M=a.n(L);var F=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"heading"},"About Us"),r.a.createElement("div",{className:"about"},r.a.createElement("p",null,"Welcome to our Meal Planner. Using our search engine enter the featured ingredient you have handy to explore a wide variety of recipes that put that element to culinary usage."),r.a.createElement("br",null),r.a.createElement("p",null,"Using our Calendar feature you will also be able to customize a Calendar of meals for your week-to-week diet."),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("li",null,r.a.createElement(i.b,{className:"starting",to:"/recipes"},"Lets get started!"))))},x=a(7);var D={breakfast:null,lunch:null,dinner:null},A={sunday:Object(S.a)({},D),monday:Object(S.a)({},D),tuesday:Object(S.a)({},D),wednesday:Object(S.a)({},D),thursday:Object(S.a)({},D),friday:Object(S.a)({},D),saturday:Object(S.a)({},D)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=t.day,n=t.recipe,r=t.meal;switch(t.type){case"ADD_RECIPE":return Object(S.a)({},e,Object(u.a)({},a,Object(S.a)({},e[a],Object(u.a)({},r,n.label))));case"REMOVE_FROM_CALENDAR":return Object(S.a)({},e,Object(u.a)({},a,Object(S.a)({},e[a],Object(u.a)({},r,null))));default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECIPE":var a=t.recipe;return Object(S.a)({},e,Object(u.a)({},a.label,a));default:return e}},U={currentRecipe:{},searched:"pasta"},q=Object(x.c)({calendar:P,food:T,recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return"SET_RECIPE"===t.type?Object(S.a)({},e,{currentRecipe:Object(S.a)({},t.currentRecipe),searched:t.searched}):Object(S.a)({},e)}});a(97),r.a.Component;var V=Object(w.b)((function(e){return{currentRecipe:e.recipes.currentRecipe}}))((function(e){console.log(e);var t=e.currentRecipe;return r.a.createElement("div",{className:"IngredientPage"},r.a.createElement("div",{className:"image"},r.a.createElement("h2",null,t.label),r.a.createElement("img",{src:t.image,alt:"..."})),r.a.createElement("div",{className:"list"},r.a.createElement("h2",null,"Instructions")," ",r.a.createElement("a",{href:t.url,target:"_blank"},"Instructions"),r.a.createElement("h2",null,"Ingredients"),r.a.createElement("ul",{className:"ingredients"},t.ingredients.map((function(e){return r.a.createElement("li",{className:"ingredientItem",key:Math.random()},e.text)})))))}));var G=a(25),X=a(59),z=a.n(X),H="0aecda60dcf1b8a39109d3afa689f6ff";function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.trim(),fetch("https://api.edamam.com/search?q=".concat(e,"&app_id=").concat("abf008f3","&app_key=").concat(H)).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return e.recipe}))}))}var K=function(e){var t=e.list;return r.a.createElement("div",{className:"ingredients-list"},r.a.createElement("h3",{className:"subheader"},"Your Shopping List"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e},e)}))),(!t||0===t.length)&&r.a.createElement("div",null,"No meal found. Please add meal to your Meal Planner."))},J=a(60),W=a.n(J),Y=a(61),Q=a.n(Y),Z=(a(34),function(e){var t=e.isOpen,a=e.onClose,n=e.label,l=e.children;return r.a.createElement(W.a,{className:"modal",overlayClassName:"overlay",isOpen:t,onRequestClose:a,contentLabel:n},r.a.createElement("div",{style:{float:"right"}},r.a.createElement("button",{className:"icon-btn",onClick:a,"aria-label":"Close modal"},r.a.createElement(Q.a,{size:24}))),l)});function $(e){var t=e.food,a=e.onSelect;return 0===t.length?r.a.createElement("p",null,"Your search has 0 results."):r.a.createElement("ul",{className:"food-list"},t.map((function(e){return r.a.createElement("li",{onClick:function(){return a(e)},onKeyPress:function(t){return"Enter"===t.key&&a(e)},key:e.label,tabIndex:"0"},r.a.createElement("h3",null,(t=e.label).length>16?t.slice(0,16)+"...":t),r.a.createElement("img",{src:e.image,alt:e.label}),r.a.createElement("div",null,Math.floor(e.calories)," Calories"),r.a.createElement("div",null,e.source));var t})))}var ee=a(62),te=a.n(ee),ae=a(63),ne=a.n(ae),re=function(e){var t=e.isLoading,a=e.selectRecipe,n=e.onInputChange,l=e.searchFood,c=e.food,o=e.day,s=e.meal,i=e.onClose;return r.a.createElement("div",null,r.a.createElement("div",{className:"search-container"},r.a.createElement("h3",{className:"subheader"},"Find a meal for ",Object(G.capitalize)(o)," ",s,"."),t?r.a.createElement(ne.a,{delay:200,type:"spin",color:"#222",className:"loading"}):r.a.createElement("div",null,r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"food-input",type:"text",placeholder:"Search Foods",onChange:n,onKeyDown:function(e){return"Enter"===e.key&&l(e)},autoFocus:!0}),r.a.createElement("button",{className:"icon-btn",onClick:l},r.a.createElement(te.a,{size:30}))),c&&r.a.createElement($,{food:c,onSelect:function(e){a({recipe:e,day:o,meal:s}),i()}}))))},le=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isFoodModalOpen:!1,isIngredientsModalOpen:!1,meal:null,day:null,food:null,foodSearchInput:""},e.openFoodModal=function(t){var a=t.meal,n=t.day;e.setState((function(){return{isFoodModalOpen:!0,meal:a,day:n,foodSearchInput:""}}))},e.closeFoodModal=function(){e.setState((function(){return{isFoodModalOpen:!1,meal:null,day:null,food:null,foodSearchInput:""}}))},e.onInputChange=function(t){e.setState({foodSearchInput:t.target.value})},e.searchFood=function(t){e.state.foodSearchInput&&(t.preventDefault(),e.setState((function(){return{loadingFood:!0}})),B(e.state.foodSearchInput).then((function(t){return e.setState((function(){return{food:t,loadingFood:!1}}))})))},e.openIngredientsModal=function(){return e.setState((function(){return{isIngredientsModalOpen:!0}}))},e.closeIngredientsModal=function(){return e.setState((function(){return{isIngredientsModalOpen:!1}}))},e.generateShoppingList=function(){return e.props.calendar.reduce((function(e,t){var a=t.meals,n=a.breakfast,r=a.lunch,l=a.dinner;return n&&e.push(n),r&&e.push(r),l&&e.push(l),e}),[]).reduce((function(e,t){var a=t.ingredientLines;return e.concat(a)}),[])},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isFoodModalOpen,n=t.isIngredientsModalOpen,l=t.loadingFood,c=t.food,o=t.day,s=t.meal,i=this.props,u=i.calendar,d=i.selectRecipe,m=i.remove,p=["breakfast","lunch","dinner"];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav"},r.a.createElement("h1",{className:"header"},"Meal Planner"),r.a.createElement("button",{className:"shopping-list",onClick:this.openIngredientsModal},"Shopping List")),r.a.createElement("ul",{className:"meal-types"},p.map((function(e){return r.a.createElement("li",{key:e,className:"subheader"},Object(G.capitalize)(e))}))),r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"days"},u.map((function(e){var t=e.day;return r.a.createElement("h3",{key:t,className:"subheader"},Object(G.capitalize)(t))}))),r.a.createElement("div",{className:"icon-grid"},u.map((function(t){var a=t.day,n=t.meals;return r.a.createElement("ul",{key:a},p.map((function(t){return r.a.createElement("li",{key:t,className:"meal"},n[t]?r.a.createElement("div",{className:"food-item"},r.a.createElement("img",{src:n[t].image,alt:n[t].label}),r.a.createElement("span",{title:n[t].label},n[t].label),r.a.createElement("a",{href:n[t].url,target:"_blank"},"Instructions"),r.a.createElement("button",{onClick:function(){return m({meal:t,day:a})}},"Clear")):r.a.createElement("div",{className:"add-meal-btn"},r.a.createElement("button",{onClick:function(){return e.openFoodModal({meal:t,day:a})},className:"icon-btn"},r.a.createElement(z.a,{size:30}))))})))})))),r.a.createElement(Z,{label:"Food Search Modal",isOpen:a,onClose:this.closeFoodModal},r.a.createElement(re,{isLoading:l,selectRecipe:d,searchFood:this.searchFood,onInputChange:this.onInputChange,food:c,day:o,meal:s,onClose:this.closeFoodModal})),r.a.createElement(Z,{label:"Shopping List Modal",isOpen:n,onClose:this.closeIngredientsModal},r.a.createElement(K,{list:this.generateShoppingList()})))}}]),a}(n.Component),ce=Object(w.b)((function(e){var t=e.calendar,a=e.food;console.log(t);return{calendar:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map((function(e){return{day:e,meals:Object.keys(t[e]).reduce((function(n,r){return n[r]=t[e][r]?a[t[e][r]]:null,n}),{})}}))}}),(function(e){return{selectRecipe:function(t){return e({type:"ADD_RECIPE",day:(a=t).day,recipe:a.recipe,meal:a.meal});var a},remove:function(t){return e({type:"REMOVE_FROM_CALENDAR",day:(a=t).day,meal:a.meal});var a}}}))(le),oe=a(4),se=a(31),ie=[se.a],ue=Object(x.e)(q,{},Object(x.d)(x.a.apply(void 0,ie),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||x.d)),de=function(){Object(n.useEffect)((function(){ue.dispatch((function(e,t){e({type:"USER_LOADING"}),t().auth&&t().auth.token,f.a.get("/api/auth/user, tokenConfig(getState) ").then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}}(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}))}),[]);var e=Object(oe.createBrowserHistory)();return r.a.createElement(i.a,{history:e},r.a.createElement(w.a,{store:ue},r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(M.a,{path:"/",exact:!0,component:O}),r.a.createElement(M.a,{path:"/signup",exact:!0,component:v}),r.a.createElement(M.a,{path:"/About",exact:!0,component:F}),r.a.createElement(M.a,{path:"/recipes",exact:!0,component:I}),r.a.createElement(M.a,{path:"/ingredients/:label",exact:!0,component:V}),r.a.createElement(M.a,{path:"/Calender",exact:!0,component:ce}))))},me={msg:{},status:null,id:null},pe=window.localStorage,he={token:pe.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},Ee=a(64),fe=a.n(Ee),ge=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):x.d)(Object(x.a)(fe.a,se.a)),be=Object(x.e)(q,ge);h.a.render(r.a.createElement(w.a,{store:be},r.a.createElement(de,null)),document.getElementById("root"));t.default=Object(x.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(S.a)({},e,{isLoading:null});case"USER_LOADED":return Object(S.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return pe.setItem("token",t.payload.token),Object(S.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return pe.removeItem("token"),Object(S.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}})},28:function(e,t,a){},34:function(e,t,a){},54:function(e,t,a){e.exports=a.p+"static/media/avatar.261da50b.png"},55:function(e,t,a){e.exports=a.p+"static/media/avatar.261da50b.png"},65:function(e,t,a){e.exports=a(115)},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},90:function(e,t,a){},97:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.170423be.chunk.js.map